webpackJsonp([14],{aMva:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("mvHQ"),l=n.n(a),r=n("Xxa5"),o=n.n(r),i=n("exGp"),s=n.n(i),u=n("Dd8w"),c=n.n(u),d=n("l1rg"),f=n("NYxO"),v=n("zL8q"),p={computed:c()({},Object(f.c)({token:function(t){return t.user.token},username:function(t){return t.user.username},uid:function(t){return t.user.uid},group_name:function(t){return t.user.group}})),data:function(){return{loading:!0,total:null,tableData:[],listData:{},annotationDialog:!1,dialogTableVisible:!1,dialogFormVisible:!1,deleteStudentDialog:!1,checkStudent:!1,formLabelWidth:"120px",options:[{label:"第一轮面试",value:"第一轮面试"},{label:"第二轮面试",value:"第二轮面试"},{label:"第三轮面试",value:"第三轮面试"},{label:"通过",value:"通过"},{label:"不通过",value:"不通过"}],send_mail_select:[{label:"发送",value:!0},{label:"不发送",value:!1}],changeStudentInfo:{uid:"",status:"",send_mail:!0},currentStudent:{username:"",uniLearn:""}}},methods:{init:function(){this.initListData(),this.getStudentList()},goTopDuration:function(){var t=setInterval(function(){var e=document.documentElement.scrollTop||document.body.scrollTop,n=Math.floor(-e/7);document.documentElement.scrollTop=document.body.scrollTop=e+n,0==e&&clearInterval(t)},30)},getStudentList:function(t){var e=this;return s()(o.a.mark(function n(){var a;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.loading=!0,e.goTopDuration(),t&&(e.listData.page=t),n.next=5,Object(d.d)(e.listData);case 5:a=n.sent,e.tableData=a.student.student_list,e.total=a.student.total_elements,e.loading=!1;case 9:case"end":return n.stop()}},n,e)}))()},deleteStudent:function(t){this.deleteStudentDialog=!0,this.currentStudent=t},submitDelete:function(){var t=this;return s()(o.a.mark(function e(){var n,a,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={uid:t.currentStudent.uid},e.next=3,Object(d.c)(n);case 3:a=e.sent,v.Notification.success(a.message),l=t.tableData.indexOf(t.currentStudent),t.tableData.splice(l,1),t.deleteStudentDialog=!1;case 8:case"end":return e.stop()}},e,t)}))()},addAnnotation:function(){var t=this;return s()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.annotationDialog=!1,e.next=3,Object(d.a)(t.currentStudent);case 3:n=e.sent,v.Notification.success(n.message);case 5:case"end":return e.stop()}},e,t)}))()},submitChange:function(){var t=this;return s()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.checkStudent=!1,t.currentStudent.status!==t.changeStudentInfo.status){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Object(d.b)(t.changeStudentInfo);case 5:n=e.sent,t.currentStudent.status=t.changeStudentInfo.status,v.Notification.success(n.message);case 8:case"end":return e.stop()}},e,t)}))()},checkStudentInfo:function(t){this.currentStudent=t,this.dialogFormVisible=!0},checkStudentStatus:function(t){var e=JSON.parse(l()(t));this.checkStudent=!0,this.changeStudentInfo=e},initListData:function(){this.listData={page:"1",tutor_uid:this.uid,pre_page:10,username:"",status:""}}},created:function(){this.init()},watch:{}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-card",{staticClass:"box-card",staticStyle:{"min-height":"100vh"}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("h2",[t._v(t._s(t.group_name)+"组学生列表")])]),t._v(" "),n("el-form",[n("el-row",{staticStyle:{"margin-top":"20px"}},[n("el-col",[n("span",{staticStyle:{"font-size":"15px","margin-right":"10px"}},[t._v("姓名")]),t._v(" "),n("el-input",{staticStyle:{width:"200px","margin-right":"20px"},model:{value:t.listData.username,callback:function(e){t.$set(t.listData,"username",e)},expression:"listData.username"}}),t._v(" "),n("span",{staticStyle:{"font-size":"15px","margin-right":"10px"}},[t._v("状态")]),t._v(" "),n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.listData.status,callback:function(e){t.$set(t.listData,"status",e)},expression:"listData.status"}},[t._l(t.options,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),t._v(" "),n("el-option",{attrs:{value:""}},[t._v("\n              不选择\n            ")])],2),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.getStudentList()}}},[t._v("查 询")])],1)],1)],1),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%","margin-top":"50px"},attrs:{data:t.tableData,border:"","max-height":"450"}},[n("el-table-column",{attrs:{fixed:"",prop:"uniLearn",label:"学号",width:"100"}}),t._v(" "),n("el-table-column",{attrs:{prop:"username",label:"姓名",width:"120"}}),t._v(" "),n("el-table-column",{attrs:{prop:"status",label:"状态",width:"120"}}),t._v(" "),n("el-table-column",{attrs:{prop:"tel",label:"电话号",width:"150"}}),t._v(" "),n("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"170"}}),t._v(" "),n("el-table-column",{attrs:{prop:"major",label:"专业",width:"150"}}),t._v(" "),n("el-table-column",{attrs:{prop:"academy",label:"学院",width:"150"}}),t._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.checkStudentInfo(e.row)}}},[t._v("审核")]),t._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.deleteStudent(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),n("el-row",{staticStyle:{"margin-top":"50px"},attrs:{type:"flex",justify:"center"}},[n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.listData.pre_page},on:{"current-change":t.getStudentList}})],1),t._v(" "),n("el-dialog",{attrs:{title:"查看学生信息",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[n("el-form",[n("el-form-item",{attrs:{label:"学生姓名","label-width":t.formLabelWidth}},[n("el-row",{attrs:{type:"flex",justify:"center"}},[t._v("\n            "+t._s(t.currentStudent.username)+"\n          ")])],1),t._v(" "),n("el-form-item",{attrs:{label:"学号","label-width":t.formLabelWidth}},[n("el-row",{attrs:{type:"flex",justify:"center"}},[t._v("\n            "+t._s(t.currentStudent.uniLearn)+"\n          ")])],1),t._v(" "),n("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[n("el-row",{attrs:{type:"flex",justify:"center"}},[t._v("\n            "+t._s(t.currentStudent.status)+"\n          ")])],1),t._v(" "),n("el-form-item",{attrs:{label:"专业","label-width":t.formLabelWidth}},[n("el-row",{attrs:{type:"flex",justify:"center"}},[t._v("\n            "+t._s(t.currentStudent.major)+"\n          ")])],1),t._v(" "),n("el-form-item",{attrs:{label:"学院","label-width":t.formLabelWidth}},[n("el-row",{attrs:{type:"flex",justify:"center"}},[t._v("\n            "+t._s(t.currentStudent.academy)+"\n          ")])],1),t._v(" "),n("el-form-item",{attrs:{label:"自我介绍","label-width":t.formLabelWidth}},[n("el-row",{attrs:{type:"flex",justify:"center"}},[t._v("\n            "+t._s(t.currentStudent.introduce)+"\n          ")])],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{on:{click:function(e){t.annotationDialog=!0}}},[t._v("查看注释")]),t._v(" "),n("el-button",{on:{click:function(e){return t.checkStudentStatus(t.currentStudent)}}},[t._v("审 核")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("确 定")])],1)],1),t._v(" "),n("el-dialog",{attrs:{title:"查看注释",visible:t.annotationDialog},on:{"update:visible":function(e){t.annotationDialog=e}}},[n("el-form",[n("el-form-item",{attrs:{label:"注释","label-width":t.formLabelWidth}},[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-input",{attrs:{type:"textarea",rows:10,placeholder:"请输入内容"},model:{value:t.currentStudent.annotation,callback:function(e){t.$set(t.currentStudent,"annotation",e)},expression:"currentStudent.annotation"}})],1)],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.annotationDialog=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addAnnotation()}}},[t._v("保存注释")])],1)],1),t._v(" "),n("el-dialog",{attrs:{title:"审核",visible:t.checkStudent},on:{"update:visible":function(e){t.checkStudent=e}}},[n("el-form",{ref:"form",attrs:{"label-width":"150px"}},[n("el-form-item",{attrs:{label:"面试状态"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.changeStudentInfo.status,callback:function(e){t.$set(t.changeStudentInfo,"status",e)},expression:"changeStudentInfo.status"}},t._l(t.options,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),n("el-form-item",{attrs:{label:"是否发送邮件通知"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.changeStudentInfo.send_mail,callback:function(e){t.$set(t.changeStudentInfo,"send_mail",e)},expression:"changeStudentInfo.send_mail"}},t._l(t.send_mail_select,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.checkStudent=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitChange()}}},[t._v("确 定")])],1)],1),t._v(" "),n("el-dialog",{attrs:{title:"删除学生",visible:t.deleteStudentDialog},on:{"update:visible":function(e){t.deleteStudentDialog=e}}},[n("el-row",[n("h3",[t._v("确定要删除学生信息吗? (此操作不可恢复) ")])]),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.deleteStudentDialog=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.submitDelete}},[t._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[]},b=n("VU/8")(p,m,!1,null,null,null);e.default=b.exports},mvHQ:function(t,e,n){t.exports={default:n("qkKv"),__esModule:!0}},qkKv:function(t,e,n){var a=n("FeBl"),l=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return l.stringify.apply(l,arguments)}}});
//# sourceMappingURL=14.878e74b28c4ed7090ce3.js.map